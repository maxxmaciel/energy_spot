import ExpandLessIcon from '@mui/icons-material/ExpandLess';
import ExpandMoreIcon from '@mui/icons-material/ExpandMore';
import { Collapse, List, ListItem, ListItemIcon, ListItemText } from '@mui/material';
import React, { useState } from 'react';
import { Treebeard, TreeNode as TreebeardNode } from 'react-treebeard';
import { useUpdateConfig } from './useArquivo';

interface TreeViewProps {
  data: TreebeardNode;
  onToggle: (node: TreebeardNode, toggled: boolean) => void;
}

const TreeView: React.FC<TreeViewProps> = ({ data, onToggle }) => {
  const [isExpanded, setIsExpanded] = useState(true);


  const toggleView = (): void => {
    setIsExpanded(!isExpanded);

  };

  return (
    <div style={{ width: isExpanded ? '230px' : '54px', borderRight: '1px solid #ccc', transition: 'width 0.3s' }}>
      <List component="nav" aria-labelledby="nested-list-subheader" style={{ paddingTop: 0 }}>
        <ListItem button onClick={toggleView}>
          <ListItemIcon>
            {isExpanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}
          </ListItemIcon>
          <ListItemText primary="" />
        </ListItem>
        <Collapse in={isExpanded} timeout="auto" unmountOnExit>
          <Treebeard data={data} onToggle={onToggle} />
        </Collapse>
      </List>
    </div>
  );
};

export default TreeView;
